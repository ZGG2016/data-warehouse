# 数仓Kimball的维度建模过时了吗？

原文: [https://www.51cto.com/article/677415.html](https://www.techweb.com.cn/cloud/2021-08-11/2853151.shtml)

原文主要描述了在传统环境和大数据环境下使用的几点不同：

1. 不要使用代理键

生成代理键代价高，增加ETL的复杂性，尽量使用多个自然键组成的复合主键。

2. 避免使用 Type-2 SCD

如果非得需要实现 Type-2 SCD，也不要使用代理键。

【第三点的维表快照也能解决这个问题，但还是看具体业务情况】

3. 维表快照

将维度表建成分区表，在每天的分区中都同步一次全量数据。

4. 数据建模的非规范化

将常用维度属性冗余至事实表，避免连接。

5. 使用复杂的数据类型

当某个实体的详细信息在不久的将来发生变化时，使用一个JSON来保存这些字段是很有必要的，直到schema的细节可以固化。

对于一对多的情况，使用数组或许是一个很好的方案，例如，如果在商品维度中存储一些标签字段，我们就可以将这些字段存在在一个数组字段中，而不是将标签存储在一张标签表中。【避免join】